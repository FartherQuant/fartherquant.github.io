import{i as d,_ as M,bo as _,a as N,e as w,v as k,D as O,A as B,bp as E,bq as C,bm as S,ac as f,h as G,br as A,bs as D,aw as I,bt as $,ai as z,bu as R,bv as X,J as Y}from"./index.esm.min.0819b090.js";function L(r,e){if(!r)return!1;for(var a=d(r)?r:[r],t=0;t<a.length;t++)if(a[t]&&a[t][e])return!0;return!1}function v(r){C(r,"label",["show"])}var m=S(),T=function(r){M(e,r);function e(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=e.type,a.createdBySelf=!1,a}return e.prototype.init=function(a,t,n){this.mergeDefaultAndTheme(a,n),this._mergeOption(a,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(_.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},e.prototype.mergeOption=function(a,t){this._mergeOption(a,t,!1,!1)},e.prototype._mergeOption=function(a,t,n,i){var s=this.mainType;n||t.eachSeries(function(o){var u=o.get(this.mainType,!0),c=m(o)[s];if(!u||!u.data){m(o)[s]=null;return}c?c._mergeOption(u,t,!0):(i&&v(u),N(u.data,function(l){l instanceof Array?(v(l[0]),v(l[1])):v(l)}),c=this.createMarkerModelFromSeries(u,this,t),w(c,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),c.__hostSeries=o),m(o)[s]=c},this)},e.prototype.formatTooltip=function(a,t,n){var i=this.getData(),s=this.getRawValue(a),o=i.getName(a);return k("section",{header:this.name,blocks:[k("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(a){this._data=a},e.getMarkerModelFromSeries=function(a,t){return m(a)[t]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(O);B(T,E.prototype);var b=T;function y(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function Z(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function h(r,e,a,t,n,i){var s=[],o=I(e,t),u=o?e.getCalculationInfo("stackResultDimension"):t,c=F(e,u,r),l=e.indicesOfNearest(u,c)[0];s[n]=e.get(a,l),s[i]=e.get(u,l);var V=e.get(t,l),p=$(e.get(t,l));return p=Math.min(p,20),p>=0&&(s[i]=+s[i].toFixed(p)),[s,V]}var g={min:f(h,"min"),max:f(h,"max"),average:f(h,"average"),median:f(h,"median")};function P(r,e){if(!!e){var a=r.getData(),t=r.coordinateSystem,n=t&&t.dimensions;if(!Z(e)&&!d(e.coord)&&d(n)){var i=q(e,a,t,r);if(e=G(e),e.type&&g[e.type]&&i.baseAxis&&i.valueAxis){var s=A(n,i.baseAxis.dim),o=A(n,i.valueAxis.dim),u=g[e.type](a,i.baseDataDim,i.valueDataDim,s,o);e.coord=u[0],e.value=u[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!d(n))e.coord=[];else for(var c=e.coord,l=0;l<2;l++)g[c[l]]&&(c[l]=F(a,a.mapDimension(n[l]),c[l]));return e}}function q(r,e,a,t){var n={};return r.valueIndex!=null||r.valueDim!=null?(n.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,n.valueAxis=a.getAxis(H(t,n.valueDataDim)),n.baseAxis=a.getOtherAxis(n.valueAxis),n.baseDataDim=e.mapDimension(n.baseAxis.dim)):(n.baseAxis=t.getBaseAxis(),n.valueAxis=a.getOtherAxis(n.baseAxis),n.baseDataDim=e.mapDimension(n.baseAxis.dim),n.valueDataDim=e.mapDimension(n.valueAxis.dim)),n}function H(r,e){var a=r.getData().getDimensionInfo(e);return a&&a.coordDim}function W(r,e){return r&&r.containData&&e.coord&&!y(e)?r.containData(e.coord):!0}function j(r,e,a){return r&&r.containZone&&e.coord&&a.coord&&!y(e)&&!y(a)?r.containZone(e.coord,a.coord):!0}function Q(r,e){return r?function(a,t,n,i){var s=i<2?a.coord&&a.coord[i]:a.value;return D(s,e[i])}:function(a,t,n,i){return D(a.value,e[i])}}function F(r,e,a){if(a==="average"){var t=0,n=0;return r.each(e,function(i,s){isNaN(i)||(t+=i,n++)}),t/n}else return a==="median"?r.getMedian(e):r.getDataExtent(e)[a==="max"?1:0]}var x=S(),J=function(r){M(e,r);function e(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=e.type,a}return e.prototype.init=function(){this.markerGroupMap=z()},e.prototype.render=function(a,t,n){var i=this,s=this.markerGroupMap;s.each(function(o){x(o).keep=!1}),t.eachSeries(function(o){var u=b.getMarkerModelFromSeries(o,i.type);u&&i.renderSeries(o,u,t,n)}),s.each(function(o){!x(o).keep&&i.group.remove(o.group)})},e.prototype.markKeep=function(a){x(a).keep=!0},e.prototype.toggleBlurSeries=function(a,t){var n=this;N(a,function(i){var s=b.getMarkerModelFromSeries(i,n.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(u){u&&(t?R(u):X(u))})}})},e.type="marker",e}(Y),U=J;export{b as M,U as a,W as b,Q as c,P as d,L as e,q as g,F as n,j as z};
